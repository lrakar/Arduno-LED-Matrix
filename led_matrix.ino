#define DATA 10
#define CLK 9
#define LATCH 8

int img[16][16] = {
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},

	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0},
};
/*
int img[16][16] = {
	{1,1,1,0,1,1,1,1, 1,1,0,0,0,1,1,1},
	{1,1,1,0,0,1,0,1, 1,1,0,1,0,1,1,1},
	{1,1,1,0,1,0,1,1, 0,0,0,0,0,1,1,1},
	{0,0,0,0,0,1,0,1, 0,1,0,1,0,0,0,0},
	{1,0,1,0,1,0,1,1, 1,0,1,0,1,0,1,0},
	{1,1,0,1,0,1,0,1, 0,1,0,1,0,1,0,1},
	{1,0,1,0,1,0,1,1, 1,0,1,0,1,0,1,0},
	{1,1,1,1,1,1,1,1, 0,1,0,1,0,1,0,1},

	{1,1,1,0,1,1,1,1, 1,0,1,0,0,1,1,1},
	{1,1,1,0,0,1,0,1, 0,1,0,1,0,1,1,1},
	{1,1,1,0,1,0,1,1, 1,0,1,0,0,1,1,1},
	{0,0,0,0,0,1,0,1, 0,1,0,1,0,0,0,0},
	{1,0,1,0,1,0,1,1, 1,0,1,0,1,0,1,0},
	{1,1,0,1,0,1,0,1, 0,1,0,1,0,1,0,1},
	{1,0,1,0,1,0,1,1, 1,0,1,0,1,0,1,0},
	{1,1,1,1,1,1,1,1, 0,1,0,1,0,1,0,1},
};*/
/*
int img[16][16] = {
	{1,0,1,0,1,0,1,0, 1,0,1,0,1,0,1,0},
	{0,1,0,1,0,1,0,1, 0,1,0,1,0,1,0,1},
	{1,0,1,0,1,0,1,0, 1,0,1,0,1,0,1,0},
	{0,1,0,1,0,1,0,1, 0,1,0,1,0,1,0,1},
	{1,0,1,0,1,0,1,0, 1,0,1,0,1,0,1,0},
	{0,1,0,1,0,1,0,1, 0,1,0,1,0,1,0,1},
	{1,0,1,0,1,0,1,0, 1,0,1,0,1,0,1,0},
	{0,1,0,1,0,1,0,1, 0,1,0,1,0,1,0,1},

	{1,0,1,0,1,0,1,0, 1,0,1,0,1,0,1,0},
	{0,1,0,1,0,1,0,1, 0,1,0,1,0,1,0,1},
	{1,0,1,0,1,0,1,0, 1,0,1,0,1,0,1,0},
	{0,1,0,1,0,1,0,1, 0,1,0,1,0,1,0,1},
	{1,0,1,0,1,0,1,0, 1,0,1,0,1,0,1,0},
	{0,1,0,1,0,1,0,1, 0,1,0,1,0,1,0,1},
	{1,0,1,0,1,0,1,0, 1,0,1,0,1,0,1,0},
	{0,1,0,1,0,1,0,1, 0,1,0,1,0,1,0,1},
};*/

void setup() {
	pinMode(10, OUTPUT);
	pinMode(9, OUTPUT);
	pinMode(8, OUTPUT);
	pinMode(13, OUTPUT);
}

void loop() {
	for(int y=0; y<16; y++){
		for(int x=0; x<16; x++){
			img[y][x] = 1;
			//delay(10);
			displayAll();
		}
	}
	for(int y=0; y<16; y++){
		for(int x=0; x<16; x++){
			img[y][x] = 0;
			//delay(10);
			displayAll();
		}
	}
}

void displayAll(){
	for(int i=0; i<8; i++){
		displayRow(i);
	}
}


void displayRow(int row){
	// colums
	for(int i = 0; i<32; i++) {
		int display = i / 8;
		if(display == 0){
			digitalWrite(DATA, !img[15-row][7-i]);
		}
		else if(display == 1){
			digitalWrite(DATA, !img[15-row][15-(i-8)]);
		}
		else if(display == 2){
			digitalWrite(DATA, !img[7-(i-16)][15-(7-row)]);
		}
		else if(display == 3){
			digitalWrite(DATA, !img[7-(i-24)][row]);
		}
		digitalWrite(CLK, 1);
		digitalWrite(CLK, 0);
	}
	// rows
	for(int i = 0; i<32; i++) {
		digitalWrite(DATA, i%8==row);
		digitalWrite(CLK, 1);
		digitalWrite(CLK, 0);
	}

	digitalWrite(LATCH, 1);
	digitalWrite(LATCH, 0);
}

// test